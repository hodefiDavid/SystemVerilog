//gets the packet from the monitor, generates the expected results 
//and compares with the actual results received from the monitor

class scoreboard;
   
  //create mailbox handle
  mailbox mon2scb;
  
  //count the number of transactions
  int num_transactions;
  
  //constructor
  function new(mailbox mon2scb);
    //get the mailbox handle from  environment 
    this.mon2scb = mon2scb;
  endfunction
  
  //Compare the actual results with the expected results
  task main;
    transaction trans;
    forever begin
      mon2scb.get(trans);
        if(trans.load) begin

        if (trans.count == trans.data_in)
         $display("Result is as Expected");
        else
          $error("Wrong Result.\n\tExpeced: %0d Actual: %0d",(trans.data_in),trans.count);
        end

        else  begin
       if(trans.count==trans.precount+1)
       
          $display("Result is as Expected");
        else
          $error("Wrong Result.\n\tExpeced: %0d Actual: %0d",(trans.precount + 1),trans.count);
       trans.precount=trans.count; 
        end 


        num_transactions++;
      trans.display("[ --Scoreboard-- ]");
    end
  endtask
  
endclass